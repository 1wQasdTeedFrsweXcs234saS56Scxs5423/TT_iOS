function errorFileSystem(e){console.log("Error:"+e.code+"\n"+e.source)}function getFileSystemRefForWriting(e){dataToWrite=e;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotRssFileSystem,errorFileSystem)}function gotRssFileSystem(e){fileSystem=e;fileSystem.root.getFile("data.json",{create:true,exclusive:false},writeDataToRSSFile,errorFileSystem)}function writeDataToRSSFile(e){e.createWriter(gotRSSFileWriter,errorFileSystem,false)}function gotRSSFileWriter(e){e.onwriteend=function(e){dataToWrite=null};e.seek(0);e.onerror=errorFileSystem;e.write(JSON.stringify(dataToWrite))}function getFileSystemRefForWritingDownload(e){dwnldData=e;window.requestFileSystem(LocalFileSystem.PERSISTENT,0,gotRssFileSystemDownload,errorFileSystem)}function gotRssFileSystemDownload(e){e.root.getFile("download.json",{create:true,exclusive:false},writeDataToRSSFileDownload,errorFileSystem)}function writeDataToRSSFileDownload(e){e.createWriter(gotRSSFileWriterDownload,errorFileSystem,false)}function gotRSSFileWriterDownload(e){e.onwriteend=function(e){dwnldData=null};e.seek(0);e.onerror=errorFileSystem;e.write(JSON.stringify(dwnldData))}function getFileSystemRefForReading(e,t){toShowCategories=e;if(!toShowCategories){dataToWrite=t}window.requestFileSystem(LocalFileSystem.PERSISTENT,0,getFileEntryForReader,errorFileSystem)}function getFileEntryForReader(e){e.root.getFile("data.json",null,readRSSFileData,errorFileSystem)}function readRSSFileData(e){e.file(gotReadRssFile,errorFileSystem)}function gotReadRssFile(e){readRSSFileJSON(e)}function readRSSFileJSON(e){var t=new FileReader;t.onloadend=function(e){try{var t=$.parseJSON(e.target.result);if(isOnline){if(t.offlineSubscriptionAction.length==1){if(typeof t.offlineSubscriptionAction[0]!="undefined"){postJSONData(t.offlineSubscriptionAction[0],"subscribedOffline")}}}}catch(n){}if(toShowCategories){createJsonFormatOffline(t);showCategoriesListsagar(t);document.getElementById("lblUserName").innerHTML=jsonData.loggedUserName.replace(/\_/g,".");lastPageOpen=window.localStorage.getItem("currentPage");loadDigitalTab();if(lastPageOpen==""||lastPageOpen==null){lastPageOpen="businessCategory";$.mobile.changePage("#businessCategory");displayRecoEngine()}if(lastPageOpen=="aboutTectTimePage"){showAboutTTArea();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="contactUsPage"){contactUsFocus();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="faqPage"){showFaqContent();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="DownloadsPage"){showInProgress();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="subscribePage"){showSubscribeContent();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="UpcomingEventsPage"){var r=window.localStorage.getItem("eventmonth");var i=window.localStorage.getItem("eventcount");var s=window.localStorage.getItem("currMonth");showUpcomingEventList(r,i,s);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="TAListResult"){var o=window.localStorage.getItem("currentCategoryOff");var u=window.localStorage.getItem("currentCategoryIdOff");showTAListResult(o,u);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="TAListResult"){var o=window.localStorage.getItem("currentCategoryOff");var u=window.localStorage.getItem("currentCategoryIdOff");showTAListResult(o,u);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="detailMediaPage"){var a=window.localStorage.getItem("eventFlag");var f=window.localStorage.getItem("spotLightFlag");var l=window.localStorage.getItem("mediaFlag");if(f=="false"&&a=="false"&&l=="false"){$.mobile.changePage("#businessCategory");displayRecoEngine()}if(a=="true"){var c=window.localStorage.getItem("eventitemId");var r=window.localStorage.getItem("eventmonth");var i=window.localStorage.getItem("eventcount");var s=window.localStorage.getItem("currMonth");showUpcomingEventList(r,i,s);UpcomingEventsDetail(c);$.mobile.changePage("#"+lastPageOpen)}else if(f=="true"){showSpotLightContent();$.mobile.changePage("#"+lastPageOpen)}else if(l=="true"){mediaFlag=true;var h=window.localStorage.getItem("detailPageelementId");var p=window.localStorage.getItem("detailPagetype");var d=window.localStorage.getItem("detailPagecountNum");var v=window.localStorage.getItem("detailPageitemCount");detailPageView(h,p,d,v);$.mobile.changePage("#"+lastPageOpen)}}else if(lastPageOpen=="detailAuthor"){var m=window.localStorage.getItem("aNameFromId");authornamefromid=m;showAuthorDetailPage(m);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="searchResultPage"){var g=window.localStorage.getItem("searchlement");var y=window.localStorage.getItem("media");var b=window.localStorage.getItem("valueElement");var w=window.localStorage.getItem("searchString");showSearchResult(g,y,b,w);$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="techwatchPage"){var E=window.localStorage.getItem("currentItemId");var S=window.localStorage.getItem("currentItemIndex");showTechWatchContent(E,S);loadShowCaseArticleTechWatch();$.mobile.changePage("#"+lastPageOpen)}else if(lastPageOpen=="PlaylistsPage"){resetPlaylistLMRParameters();displayPlaylist();$.mobile.changePage("#PlaylistsPage");resetSearchFlags()}else if(lastPageOpen=="playlistsItemPage"){var x=window.localStorage.getItem("lastOpenPlaylist");displayPlaylistItems(x);$.mobile.changePage("#playlistsItemPage");resetSearchFlags()}else if(lastPageOpen=="sharePlaylistsPage"){$.mobile.changePage("#sharePlaylistsPage")}else if(lastPageOpen=="addToPlaylistPage"){mediaFlag=true;var h=window.localStorage.getItem("detailPageelementId");var p=window.localStorage.getItem("detailPagetype");var d=window.localStorage.getItem("detailPagecountNum");var v=window.localStorage.getItem("detailPageitemCount");detailPageView(h,p,d,v);$.mobile.changePage("#detailMediaPage")}else if(lastPageOpen=="ContributePage"){loadContributePage();$.mobile.changePage("#ContributePage")}else{$.mobile.changePage("#businessCategory");displayRecoEngine()}}else{jsonFileData=t;if(jsonFileData){compareAndUpdateJSON1(t)}else{startThumbnailDownload();if(!toShowCategories){getFileSystemRefForWriting(dataToWrite)}}}};t.readAsText(e)}function gotFSDownloadMain(e){window.fileSystem=e;fileSystem.root.getDirectory("TechTime",{create:true,exclusive:false},dirReadyMain,errorFileSystem)}function dirReadyMain(e){window.appRootDir=e;window.appRootDir.fullPath=globalPathNew}function deleteFile(e){deleteFileName=e;if(device.platform=="Android"){window.resolveLocalFileSystemURI(deleteFileName,deleteFileByFile,errorDeleteFileSystem)}else{window.requestFileSystem(LocalFileSystem.PERSISTENT,0,doDeleteFile,errorFileSystem)}}function doDeleteFile(e){e.root.getFile(deleteFileName,null,deleteFileByFile,errorFileSystem)}function deleteFileByFile(e){var t=deleteFileName.substring(deleteFileName.lastIndexOf("//")+2,deleteFileName.length-4);$.each(entries,function(e,n){if(n==t){entries.splice(e,1)}});var n=entries.indexOf(t);e.remove(function(){deleteFileName="";jAlert("File deleted successfully.","Tech Time")},errorDeleteFileSystem)}function errorDeleteFileSystem(e){jAlert("Error while deleting File. Please retry again.","Tech Time")}function readDataUrl(e){var t=new FileReader;t.onloadend=function(e){};t.readAsDataURL(e)}var dataToWrite;var toShowCategories=false;var jsonFileData;var deleteFileName;var dwnldData;var lastPageOpen