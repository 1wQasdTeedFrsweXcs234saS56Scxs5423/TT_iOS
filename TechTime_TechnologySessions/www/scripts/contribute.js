function loadContributePage(){loadAreaOptions();resetAudioPreviewButton();resetVideoPreviewButton();spotLightFlag=false;playlistItemsPageFlag=false;eventsFlag=false;mediaFlag=false;if(isOnline){showRecordingOption("assisted")}else if(!isOnline){showRecordingOption("assisted")}}function loadAreaOptions(){var e="";e+='<option value="Select">Select</option>';$.each(jsonData.category,function(t,n){e+='<option value="'+n.categoryname+'" style="font-size:14px;">'+n.categoryname+"</option>"});$("#select-native-2").html(e);$("#select-native-5").html(e);e=""}function loadPreRecordedContentSection(){$("#preRecordedAudiosVideosSection").css("display","block");$("#selfRecordingSection").css("display","none");$("#assistedRecordingSection").css("display","none")}function loadPreRecordedContentList(){$("#preRecordedAudiosVideosList").html("");if(jsonData.contributions.length>0){var e="";$.each(jsonData.contributions,function(t,n){e+="<div id='recordedSessionItemId"+t+"' style='width:100%;background-color:#F0EFED;padding-top:5px;border-top:2px solid gray;'>";if(n.sessionContentType=="audio"){e+="<div data-sessionId='"+t+"' style='width:90%;float:left;margin-left:1%;'><label id='topicNameLabel' style='font-size:18px;color:orange;font-weight:bold;padding-right:2%;padding-top:10px;word-wrap: break-word'>"+n.sessionTopic+"</label><br/><br/></div><div style='width:9%;float:left;text-align:right;' onclick='getDetailsOfCurrentRecordedSessin(this);'><img src='images/icon_audio.png' style='height:20px;width:25px;'/><br/><br/></div>"}else if(n.sessionContentType=="video"){e+="<div data-sessionId='"+t+"' style='width:90%;float:left;' onclick='showRecordedSessionDetails(this);'><label id='topicNameLabel' style='font-size:18px;color:orange;font-weight:bold;padding-left:2%;padding-right:2%;padding-top:10px;'>"+n.sessionTopic+"</label><br/><br/></div><div style='width:9%;float:left;text-align:right;' onclick='getDetailsOfCurrentRecordedSessin(this);'><img src='images/icon_video.png' style='height:20px;width:25px;'/><br/><br/></div>"}e+="<div id='recordedSessionDetails"+t+"' data-sessionId='"+t+"' style='width:100%;' >";e+="<div data-sessionId='"+t+"' style='width:90%;float:left;'><label id='areaNameLabel' style='font-size:16px;color:orange;font-weight:normal;padding-left:2%;padding-top:10px;'>"+n.sessionArea+"</label></div><div data-sessionFilePath='"+n.sessionFilePath+"' data-sessionId='"+t+"' style='width:9%;float:left;text-align:right;'><img data-sessionId='"+t+"' src='images/cross_mark.png' style='height:20px;width:20px;margin-top:10px;' onclick='deleteCurrentSession(this);'/></div>";if(n.sessionFormat!=""){e+="<div style='width:100%;'><label id='contributorNameLabel' style='font-size:15px;color:orange;font-weight:normal;padding-left:2%;'>"+n.sessionFormat+"</label></div>"}e+="<div style='width:100%;'><label id='recordDateLabel' style='font-size:15px;color:black;font-weight:bold;padding-left:2%;padding-top:10px;'>"+n.sessionRecordDate+"</label></div>";e+="<div id='myUploadProgressDiv"+t+"' style='width:0%;height:16px;border:3px solid orange;background:orange;display:none;margin-top:3px;'></div><div style='width:100%;text-align:center;'><label id='myUploadProgressLabel"+t+"' style='color:black;display:none;'></label></div><br/>";e+="<div id='previewUploadOptionsBtn"+t+"' style='width:100%;display:inline-block;'><div style='width:50%;float:left;text-align:center;'>";if(n.sessionContentType=="audio"){e+="<img data-sessionFilePath='"+n.sessionFilePath+"' data-sessionContentType='"+n.sessionContentType+"' data-sessionTopic='"+n.sessionTopic+"' data-sessionId='"+t+"' id='previewRecording"+t+"' class='detailMediaPageButton' src='images/btn_PreviewAudio.png' onclick='previewCurrentSession(this);'></img><br/></div><div style='width:50%;float:left;text-align:center;'>"}else if(n.sessionContentType=="video"){e+="<img data-sessionFilePath='"+n.sessionFilePath+"' data-sessionContentType='"+n.sessionContentType+"' data-sessionTopic='"+n.sessionTopic+"' data-sessionId='"+t+"' id='previewRecording"+t+"' class='detailMediaPageButton' src='images/btn_PreviewVideo.png' onclick='previewCurrentSession(this);'></img><br/></div><div style='width:50%;float:left;text-align:center;'>"}if(n.sessionIsUploaded==false){e+="<img data-sessionFilePath='"+n.sessionFilePath+"' data-sessionContentType='"+n.sessionContentType+"' data-sessionTopic='"+n.sessionTopic+"' data-sessionId='"+t+"' id='uploadRecording"+t+"' class='detailMediaPageButton' src='images/btn_Upload.png' onclick='showRecordedSessionFormForDetails(this);' style='display:block;margin:0 auto;'></img>";e+="<img data-sessionFilePath='"+n.sessionFilePath+"' data-sessionContentType='"+n.sessionContentType+"' data-sessionTopic='"+n.sessionTopic+"' data-sessionId='"+t+"' id='cancelUploadRecording"+t+"' class='detailMediaPageButton' src='images/btn_cancel.png' onclick='cancelCurrentUpload(this);' style='display:none;margin:0 auto;'></img>"}e+="<br/></div></div></div></div>"});$("#preRecordedAudiosVideosList").html(e);var t=$(currentSessionElementBeingUploaded).attr("data-sessionId");if(t!=""||typeof t!="undefined"){$("#myUploadProgressDiv"+t).css("display","block");$("#myUploadProgressLabel"+t).css("display","block")}else{$("#myUploadProgressDiv"+t).css("display","none");$("#myUploadProgressLabel"+t).css("display","none")}e=""}else if(jsonData.contributions.length==0){$("#preRecordedAudiosVideosList").html('<table><tr style="width:100%;"><label id="noRecordedSessions" style="display:table-cell;font-size:16px;color:black;font-weight:normal;padding-left:2%;padding-top:10px;">There are no recorded sessions currently.</label></tr></table>')}}function showRecordingOption(e){var t=jsonData.loggedUserName.replace(/_/g,".")+"@accenture.com";if(e=="assisted"){$("#assistedRecordingEmailInput").attr("value",t);$("#contributeTypeOption").css("display","none");$("#assistedRecordingSection").css("display","block");$("#selfRecordingSection").css("display","none");$("#preRecordedAudiosVideosSection").css("display","none")}else if(e=="self"){$("#selfRecordingEmailInput").attr("value",t);$("#contributeTypeOption").css("display","none");$("#selfRecordingSection").css("display","block");$("#selfRecordingForm").css("display","none");$("#selfRecordingRecordSection").css("display","block");$("#assistedRecordingSection").css("display","none");$("#preRecordedAudiosVideosSection").css("display","none")}else if(e=="cancel"){}}function showSelectFormatOptions(e){var t=$("#assistedSelfRecordingSelectFormatOption").html();if(e=="assisted"){$("#assistedRecordingFormatInputOptions").html(t).css("display","block")}else if(e=="self"){$("#selfRecordingFormatInputOptions").html(t).css("display","block")}}function showSelectLevelOptions(e){var t=$("#assistedSelfRecordingSelectLevelOption").html();if(e=="assisted"){$("#assistedRecordingLevelInputOptions").html(t).css("display","block")}else if(e=="self"){$("#selfRecordingLevelInputOptions").html(t).css("display","block")}}function showSelectAreaOptions(e){var t=$("#assistedSelfRecordingSelectAreaOption").html();if(e=="assisted"){$("#assistedRecordingAreaInputOptions").html(t).css("display","block")}else if(e=="self"){$("#selfRecordingAreaInputOptions").html(t).css("display","block")}}function selectFormatType(e){var t="";if($("#assistedRecordingFormatInputOptions").css("display")=="block"){t="assisted"}else if($("#selfRecordingFormatInputOptions").css("display")=="block"){t="self"}var n="";n=$("#"+e.id).attr("data-formatType");if(t=="assisted"){var r='<button id="assistedRecordingFormatInput" type="button" onclick=showSelectFormatOptions("assisted")>'+n+"</button>";$("#assistedRecordingFormatInputDiv").html(r);$("#assistedRecordingFormatInput").button().button("refresh");$("#assistedRecordingFormatInputOptions").css("display","none")}else if(t=="self"){var r='<button id="selfRecordingFormatInput" type="button" onclick=showSelectFormatOptions("self")>'+n+"</button>";$("#selfRecordingFormatInputDiv").html(r);$("#selfRecordingFormatInput").button().button("refresh");$("#selfRecordingFormatInputOptions").css("display","none")}}function selectLevel(e){var t="";if($("#assistedRecordingLevelInputOptions").css("display")=="block"){t="assisted"}else if($("#selfRecordingLevelInputOptions").css("display")=="block"){t="self"}var n="";n=$("#"+e.id).attr("data-level");if(t=="assisted"){var r='<button id="assistedRecordingLevelInput" type="button" onclick=showSelectLevelOptions("assisted")>'+n+"</button>";$("#assistedRecordingLevelInputDiv").html(r);$("#assistedRecordingLevelInput").button().button("refresh");$("#assistedRecordingLevelInputOptions").css("display","none")}else if(t=="self"){var r='<button id="selfRecordingLevelInput" type="button" onclick=showSelectLevelOptions("self")>'+n+"</button>";$("#selfRecordingLevelInputDiv").html(r);$("#selfRecordingLevelInput").button().button("refresh");$("#selfRecordingLevelInputOptions").css("display","none")}}function selectArea(e){var t="";if($("#assistedRecordingAreaInputOptions").css("display")=="block"){t="assisted"}else if($("#selfRecordingAreaInputOptions").css("display")=="block"){t="self"}var n="";n=$("#"+e.id).attr("data-area");if(t=="assisted"){var r='<button id="assistedRecordingAreaInput" type="button" onclick=showSelectAreaOptions("assisted")>'+n+"</button>";$("#assistedRecordingAreaInputDiv").html(r);$("#assistedRecordingAreaInput").button().button("refresh");$("#assistedRecordingAreaInputOptions").css("display","none")}else if(t=="self"){var r='<button id="selfRecordingAreaInput" type="button" onclick=showSelectAreaOptions("self")>'+n+"</button>";$("#selfRecordingAreaInputDiv").html(r);$("#selfRecordingAreaInput").button().button("refresh");$("#selfRecordingAreaInputOptions").css("display","none")}}function resetAssistedRecordingForms(){$("#assistedRecordingNameInput").val("");$("#assistedRecordingTopicInput").val("");$("#select-native-1").val("Select").selectmenu("refresh");$("#select-native-2").val("Select").selectmenu("refresh");$("#select-native-3").val("Select").selectmenu("refresh")}function resetSelfRecordingForms(){$("#selfRecordingNameInput").val("");$("#selfRecordingTopicInput").val("");$("#selfRecordingFileInput").val("");$("#select-native-4").val("Select").selectmenu("refresh");$("#select-native-5").val("Select").selectmenu("refresh");$("#select-native-6").val("Select").selectmenu("refresh")}function refillSelfRecordingForm(e){if(e.sessionName=="Name of the User"){$("#selfRecordingNameInput").val("")}else{$("#selfRecordingNameInput").val(e.sessionName)}if(e.sessionTopic=="Name of the Recorded Session"){$("#selfRecordingTopicInput").val("")}else{$("#selfRecordingTopicInput").val(e.sessionTopic)}$("#selfRecordingFileInput").val("");if(e.sessionLevel=="Level of the User"){$("#select-native-4").val("Select").selectmenu("refresh")}else{$("#select-native-4").val(e.sessionLevel).selectmenu("refresh")}if(e.sessionArea=="Area of the Recorded Session"){$("#select-native-5").val("Select").selectmenu("refresh")}else{$("#select-native-5").val(e.sessionArea).selectmenu("refresh")}if(e.sessionFormat=="Format of the Recorded Session"){$("#select-native-6").val("Select").selectmenu("refresh")}else{$("#select-native-6").val(e.sessionFormat).selectmenu("refresh")}}function recordAudio(){currentRecordedSessionType="audio";navigator.device.capture.captureAudio(captureAudioSuccess,captureAudioError,{limit:1,duration:3600})}function captureAudioSuccess(e){resetSelfRecordingForms();resetAssistedRecordingForms();setAudioPreviewButton();var t,n;for(t=0,n=e.length;t<n;t+=1){currentRecordedAudioPath=e[t].fullPath}var r=new Date;var i=r.getDate();var s=r.getMonth();var o=r.getFullYear();var u=r.getHours();var a=r.getMinutes();if(u<10){u="0"+u}else{u=u}if(a<10){a="0"+a}else{a=a}dateString=monthArr[s]+" "+i+", "+o+" @ "+u+"."+a;pushRecordedSessionDetailsToJson()}function captureAudioError(e){var t="An error occurred during audio recording: "+e.code;jAlert("There was some error saving your audio session. Please record again.","Tech Time")}function setAudioPreviewButton(){$("#selfRecordingRecordAudio").css("display","none");$("#selfRecordingPreviewAudio").css("display","block")}function resetAudioPreviewButton(){currentRecordedAudioPath="";$("#selfRecordingRecordAudio").css("display","block");$("#selfRecordingPreviewAudio").css("display","none")}function previewRecordedAudio(){$("#contributeAudioPreviewPlayer").attr("src",currentRecordedAudioPath);$("#contributeAudioPreviewPlayer").css("display","block");document.getElementById("contributeAudioPreviewPlayer").play()}function addRecordedSessionDetailsToJSON(){if($("#selfRecordingNameInput").val()!=""&&$("#selfRecordingTopicInput").val()!=""){var e=$(currentSessionElementBeingUploaded).attr("data-sessionFilePath");compressRecordedSessionFile(e);$.each(jsonData.contributions,function(t,n){if(n.sessionFilePath==e){n.sessionName=$("#selfRecordingNameInput").val();if($("#select-native-4").val()!="Select"){n.sessionLevel=$("#select-native-4").val()}else if($("#select-native-4").val()=="Select"){n.sessionLevel=""}if($("#select-native-5").val()!="Select"){n.sessionArea=$("#select-native-5").val()}else if($("#select-native-5").val()=="Select"){n.sessionArea=""}n.sessionTopic=$("#selfRecordingTopicInput").val();if($("#select-native-6").val()!="Select"){n.sessionFormat=$("#select-native-6").val()}else if($("#select-native-6").val()=="Select"){n.sessionFormat=""}}});getFileSystemRefForWriting(jsonData);resetSelfRecordingForms();resetAssistedRecordingForms();loadPreRecordedContentList();loadPreRecordedContentSection();if(isOnline){uploadCurrentSession(currentSessionElementBeingUploaded)}else if(!isOnline){jAlert("Session details have been saved. Please go Online to upload this recorded session.","Tech Time")}}else{if($("#selfRecordingNameInput").val()==""&&$("#selfRecordingTopicInput").val()==""){jAlert("Please insert your name and the Topic of the recorded session.","Tech Time")}else if($("#selfRecordingTopicInput").val()==""){jAlert("Please insert the Topic of the recorded session.","Tech Time")}else if($("#selfRecordingNameInput").val()==""){jAlert("Please insert your Name.","Tech Time")}}}function pushRecordedSessionDetailsToJson(){var e=JSON.stringify(jsonData.contributions);var t="";if(currentRecordedSessionType=="audio"){t=currentRecordedAudioPath}else if(currentRecordedSessionType=="video"){t=currentRecordedVideoPath}if(e.indexOf(t)==-1){var n=new Object;n.sessionRecordingType="self";n.sessionEmailId=$("#selfRecordingEmailInput").val();n.sessionName=$("#selfRecordingNameInput").val();if(n.sessionName==""){n.sessionName="Name of the User"}n.sessionLevel=$("#select-native-4").val();if(n.sessionLevel=="Select"){n.sessionLevel="Level of the User"}n.sessionArea=$("#select-native-5").val();if(n.sessionArea=="Select"){n.sessionArea=""}n.sessionTopic=$("#selfRecordingTopicInput").val();if(n.sessionTopic==""){if(currentRecordedSessionType=="audio"){n.sessionTopic="Audio - "+dateString}else if(currentRecordedSessionType=="video"){n.sessionTopic="Video - "+dateString}}n.sessionFormat=$("#select-native-6").val();if(n.sessionFormat=="Select"){n.sessionFormat=""}if(currentRecordedSessionType=="audio"){n.sessionContentType="audio"}else if(currentRecordedSessionType=="video"){n.sessionContentType="video"}n.sessionIsUploaded=false;if(currentRecordedSessionType=="audio"){n.sessionFilePath=t}else if(currentRecordedSessionType=="video"){n.sessionFilePath=t}n.sessionRecordDate=dateString;jsonData.contributions.unshift(n);getFileSystemRefForWriting(jsonData);if(!isOnline){switchToRecordSection()}else if(isOnline){switchToPreRecordedListSection();loadPreRecordedContentList()}}else if(e.indexOf(t)!=-1){jAlert("Recorded session has already been saved.","Tech Time")}}function switchToRecordSection(){$("#selfRecordingSection").css("display","block");$("#selfRecordingForm").css("display","none");$("#selfRecordingRecordSection").css("display","block")}function switchToPreRecordedListSection(){$("#selfRecordingSection").css("display","none");$("#selfRecordingForm").css("display","none");$("#selfRecordingRecordSection").css("display","none");$("#preRecordedAudiosVideosSection").css("display","block")}function showRecordedSessionFormForDetails(e){currentSessionElementBeingUploaded=e;var t=jsonData.contributions[$(e).attr("data-sessionId")];resetSelfRecordingForms();resetAssistedRecordingForms();refillSelfRecordingForm(t);$("#selfRecordingSection").css("display","block");$("#selfRecordingRecordSection").css("display","none");$("#selfRecordingForm").css("display","block");$("#preRecordedAudiosVideosSection").css("display","none");if(isOnline){$("#selfRecordingSubmitRecording").css("display","block");$("#selfRecordingSaveRecording").css("display","none");$("#offlineMessageDisplayContribute").css("display","none")}else if(!isOnline){$("#selfRecordingSubmitRecording").css("display","none");$("#selfRecordingSaveRecording").css("display","block");$("#offlineMessageDisplayContribute").css("display","block")}}function recordVideo(){currentRecordedSessionType="video";navigator.device.capture.captureVideo(captureVideoSuccess,captureVideoError,{limit:1,duration:3600})}function captureVideoSuccess(e){setVideoPreviewButton();var t,n;currentRecordedVideoPath=e[0].fullPath;var r=new Date;var i=r.getDate();var s=r.getMonth();var o=r.getFullYear();var u=r.getHours();var a=r.getMinutes();if(u<10){u="0"+u}else{u=u}if(a<10){a="0"+a}else{a=a}dateString=monthArr[s]+" "+i+", "+o+" @ "+u+"."+a;pushRecordedSessionDetailsToJson()}function captureVideoError(e){var t="An error occurred during audio recording: "+e.code;jAlert("There was some error saving your video session. Please record again.","Tech Time")}function setVideoPreviewButton(){$("#selfRecordingRecordVideo").css("display","none");$("#selfRecordingPreviewVideo").css("display","block")}function resetVideoPreviewButton(){currentRecordedVideoPath="";$("#selfRecordingRecordVideo").css("display","block");$("#selfRecordingPreviewVideo").css("display","none")}function previewRecordedVideo(){$("#contributeVideoPreviewPlayer").attr("src",currentRecordedVideoPath);$("#contributeVideoPreviewPlayer").css("display","block");document.getElementById("contributeVideoPreviewPlayer").play()}function previewCurrentSession(e){var t=$("#"+e.id).attr("data-sessionContentType");if(t=="audio"){$("#contributeSessionAudioPlayerDiv").focus();$("#contributeSessionAudioPlayerDiv").css("display","block");$("#contributeSessionVideoPlayerDiv").css("display","none");$("#contributeSessionAudioPlayerName").html($("#"+e.id).attr("data-sessionTopic"));var n=$("#"+e.id).attr("data-sessionFilePath");$("#contributeSessionAudioPlayer").attr("src",n);document.getElementById("contributeSessionVideoPlayer").pause();document.getElementById("contributeSessionAudioPlayer").play();document.getElementById("contributeSessionAudioPlayer").addEventListener("ended",hideRecordedSessionAudioPlayer,false)}else if(t=="video"){$("#contributeSessionVideoPlayerDiv").focus();$("#contributeSessionVideoPlayerDiv").css("display","block");$("#contributeSessionVideoPlayerName").html($("#"+e.id).attr("data-sessionTopic"));var n=$("#"+e.id).attr("data-sessionFilePath");$("#contributeSessionVideoPlayer").attr("src",n);$("#contributeSessionAudioPlayerDiv").css("display","none");document.getElementById("contributeSessionAudioPlayer").pause();document.getElementById("contributeSessionVideoPlayer").play();document.getElementById("contributeSessionVideoPlayer").addEventListener("ended",hideRecordedSessionVideoPlayer,false)}}function hideRecordedSessionAudioPlayer(e){$("#contributeSessionAudioPlayerDiv").css("display","none");$("#contributeSessionAudioPlayerName").html("")}function hideRecordedSessionVideoPlayer(e){$("#contributeSessionVideoPlayerDiv").css("display","none");$("#contributeSessionVideoPlayerName").html("")}function uploadCurrentSession(e){if(filesToBeUploadedArray.length==0){if(isOnline){var t=new FileUploadOptions;t.fileName=r;t.chunkedMode=false;t.headers={Connection:"close"};var n=new Object;n.uploadedFileKey=$(e).attr("data-sessionId");n.uploadedFilePath=$(e).attr("data-sessionFilePath");filesToBeUploadedArray.push(n);var r="";r+="iOS_"+jsonData.loggedUserName+"_";r+=jsonData.contributions[n.uploadedFileKey].sessionTopic.replace(/\s/g,"_")+"_"+jsonData.contributions[n.uploadedFileKey].sessionRecordDate+n.uploadedFilePath.substring(n.uploadedFilePath.lastIndexOf("."),n.uploadedFilePath.length);var i="https://techtime.accenture.com/sites/default/files/FileUpload/upload_file.php";var s=$(e).attr("data-sessionFilePath");var o=new FileTransfer;var u=$(e).attr("data-sessionId");$("#myUploadProgressDiv"+u).css("display","block");$("#myUploadProgressLabel"+u).css("display","block");$("#uploadRecording"+u).css("display","none");if(filesToBeUploadedArray.length>1){$("#willUploadRecording"+u).css("display","block")}if(filesToBeUploadedArray.length==1){$("#cancelUploadRecording"+u).css("display","block")}fileUploadAbortObject=o;o.onprogress=function(e){if(e.lengthComputable){console.log(Math.round(100*(e.loaded/e.total))+"%");$("#myUploadProgressDiv"+u).css("width",Math.round(100*(e.loaded/e.total))+"%");$("#myUploadProgressLabel"+u).html(Math.round(100*(e.loaded/e.total))+"%")}else{}};o.upload(s,i,function(e){currentSessionElementBeingUploaded=null;filesToBeUploadedArray.splice(0,1);$("#myUploadProgressDiv"+u).css("display","none");$("#myUploadProgressLabel"+u).css("display","none");$("#uploadRecording"+u).css("display","none");$("#cancelUploadRecording"+u).css("display","none");updateUploadStatusInJSON(u);resetSelfRecordingForms()},function(e){console.log("ERROR UPLOAD "+JSON.stringify(e));filesToBeUploadedArray.splice(0,1);if(e.code==4){jAlert("File upload has been cancelled.","Tech Time")}else{jAlert("There was an error uploading your file. Please try again.","Tech Time")}o=null;currentSessionElementBeingUploaded=null;$("#myUploadProgressDiv"+u).css("width","0%");$("#myUploadProgressDiv"+u).css("display","none");$("#myUploadProgressLabel"+u).css("display","none");$("#myUploadProgressLabel"+u).html("0%");$("#uploadRecording"+u).css("display","block");$("#cancelUploadRecording"+u).css("display","none")},t)}else if(!isOnline){jAlert("Please go Online to upload this file.","Tech Time")}}else if(filesToBeUploadedArray.length==1){jAlert("Please wait while the current file gets uploaded.","Tech Time")}}function cancelCurrentUpload(e){var t=$(e).attr("data-sessionId");$("#myUploadProgressDiv"+t).css("display","none");$("#myUploadProgressLabel"+t).css("display","none");$("#uploadRecording"+t).css("display","block");fileUploadAbortObject.abort(abortUploadSuccess,errorDeleteFileSystem);fileUploadAbortObject=null}function abortUploadSuccess(){jAlert("File upload has been cancelled cancelled.","Tech Time")}function deleteCurrentSession(e){document.getElementById("contributeSessionAudioPlayer").pause();hideRecordedSessionAudioPlayer(event);document.getElementById("contributeSessionVideoPlayer").pause();hideRecordedSessionVideoPlayer(event);var t=$(e).attr("data-sessionId");jConfirm("Are you sure you want to delete this recorded session?","Tech Time",function(n){if(n==true){$("#recordedSessionItemId"+t).remove();jsonData.contributions.splice(t,1);currentSessionElementBeingUploaded=null;if($(currentSessionElementBeingUploaded).attr("data-sessionId")==$(e).attr("data-sessionId")){cancelCurrentUpload(e)}var r=$(currentSessionElementBeingUploaded).attr("data-sessionId");if(r!=""||typeof r!="undefined"){$("#myUploadProgressDiv"+r).css("display","block");$("#myUploadProgressLabel"+r).css("display","block")}else{$("#myUploadProgressDiv"+r).css("display","none");$("#myUploadProgressLabel"+r).css("display","none")}currentSessionElementBeingUploaded=null;jAlert("This recorded session has been deleted successfully.","Tech Time");getFileSystemRefForWriting(jsonData)}})}function postRecordingDetails(e){if(isOnline){var t="https://techtime.accenture.com/techtimemobile/record-upload";var n=$("#assistedRecordingEmailInput").val();var r=$("#assistedRecordingNameInput").val();var i=$("#select-native-1").val();var s=$("#select-native-2").val();var o=$("#assistedRecordingTopicInput").val();var u=$("#select-native-3").val();r=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(r!=""){if(e=="assisted"){var a='{"data":{"mode":"assisted","emailId":"'+n+'","name":"'+r+'","level":"'+i+'", "area":"'+s+'", "topic":"'+o+'", "format":"'+u+'"}}'}else if(e=="self"){var a='{"data":{"mode":"self","emailId":"'+n+'","name":"'+r+'","level":"'+i+'", "area":"'+s+'", "topic":"'+o+'", "format":"'+u+'"}}'}$.ajax({type:"POST",url:t,data:a,dataType:"xml",contentType:"application/json",success:function(e){resetAssistedRecordingForms();jAlert("Thank you for your interest in contribution, our team will contact you soon.","Tech Time Contribute")},error:function(e,t,n){}})}else if(r==""){jAlert("Please fill the mandatory fields before submitting the form. Thank you.","Tech Time Contribute")}}else if(!isOnline){jAlert("Please go Online to request for recording a session.","Tech Time")}}function postSelfRecordingDetails(e){if(isOnline){var t="https://techtime.accenture.com/techtimemobile/record-upload";var n=e.sessionEmailId;var r=e.sessionName;var i=e.sessionLevel;var s=e.sessionArea;var o=e.sessionTopic;var u=e.sessionFormat;r=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(r!=""&&r.length!=0){var a='{"data":{"mode":"self","emailId":"'+n+'","name":"'+r+'","level":"'+i+'", "area":"'+s+'", "topic":"'+o+'", "format":"'+u+'"}}';$.ajax({type:"POST",url:t,data:a,dataType:"xml",contentType:"application/json",success:function(e){resetAssistedRecordingForms();jAlert("Thank you for your contribution to Tech Time. Our team will review the content and get back to you soon.","Tech Time Contribute")},error:function(e,t,n){}})}else if(r==""&&r.length==0){jAlert("Please fill the mandatory fields before submitting the form. Thank you.","Tech Time Contribute")}}else if(!isOnline){jAlert("You are currently offline","Tech Time")}}function browseForFiles(){$("#browseFromGalleryButton").trigger("click")}function updateUploadStatusInJSON(e){$.each(jsonData.contributions,function(t,n){if(e==t){n.sessionIsUploaded=true;postSelfRecordingDetails(n)}});getFileSystemRefForWriting(jsonData)}function compressRecordedSessionFile(e){}var currentRecordedSessionType="";var currentRecordedAudioPath="";var dateString="";var currentSessionElementBeingUploaded;var currentRecordedVideoPath="";var filesToBeUploadedArray=[];var currentFileBeingUploaded=new Object;var fileUploadAbortObject=new FileTransfer